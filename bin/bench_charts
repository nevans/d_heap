#!/bin/bash
set -eu
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" > /dev/null; pwd -P)
PROJECT_DIR=$(cd "$SCRIPT_DIR" > /dev/null; cd .. > /dev/null; pwd -P)
cd "$PROJECT_DIR"

opts=( --bundle -e 'N 100000;N 10000;N 1000;N 100;N 10' -o gruff )

for bm in push_n push_n_pop_n push_pop; do
  bin/benchmark-driver "${opts[@]}" "benchmarks/${bm}.yml"
  mv graph.png "images/${bm}.png"
done

